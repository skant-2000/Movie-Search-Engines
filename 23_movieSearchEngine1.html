<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Movie Search Engine</title>

    <style>
        #srch {
            padding: 40px;
            border-radius: 10px;
            text-align: center;
            background-color: rgb(228, 138, 168);
        }
        #input{
            width: 220px;
            height: 20px;
            margin-right: 15px;
        }
        #search {
            width: 90px;
            height: 24px;
            margin-left: 15px;
            background-color: white;
            border-radius: 5px;
            border: 0;
            cursor: pointer;
        }
        #display {
            text-align: center;
            width: 400px;
            margin: auto;
            background-color: rgb(252, 221, 226);
            border-radius: 10px;
            margin-top: 50px;
        }
        #display > h3 {
            font-size: 20px;
        }
        #display > img {
            height: 350px;
        }
    </style>
</head>

<body>
    <div id="srch">
        <input type="text" id="input" placeholder="Movie">
        <button id="search">Search</button>
    </div>
    <div id="display">

    </div>


    <script>
        const display = document.getElementById("display")
        const movie = document.getElementById("input")
        const btn = document.getElementById("search")

        window.addEventListener('load', function () {
            btn.addEventListener('click', getData)
        })

        function getData() {
            fetch(`http://www.omdbapi.com/?t=${movie.value}&apikey=6d44b8e5`)
                .then(function (response) {
                    return response.json()
                })
                .then(function (response) {
                    displayMovie(response)
                    console.log(response)
                })
                .catch(function (reject) {

                })
        }

        function displayMovie(data) {

            if (data.Title != undefined){
                const div = document.getElementById("display")

                display.textContent = ""
    
                const title = document.createElement("h3")
                title.textContent = data.Title
    
                const img = document.createElement("img")
                img.src = data.Poster
    
                const rating = document.createElement("p")
                rating.textContent = `IMDB Rating - ${data.imdbRating}`
    
                const year = document.createElement("p")
                year.textContent = `Year - ${data.Year}`

                display.style.paddingTop = "5px"
                display.style.paddingBottom = "10px"
    
                div.append(title)
                div.append(img)
                div.append(rating)
                div.append(year)
            }

            else if (data.Title === undefined) {
                const div = document.getElementById("display")

                display.textContent = ""

                const notFound = document.createElement("h2")
                notFound.textContent = "Movie Not Found!"

                div.append(notFound)
            }
        }


    </script>
</body>

</html>